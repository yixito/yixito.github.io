<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/styles/calculator.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
  </head>
  <body>
    <p>
      <button
        onclick="
    updateCalculation('1');
    "
        class="number-button">
        1
      </button>

      <button
        onclick="
    updateCalculation('2');
    "
        class="number-button">
        2
      </button>

      <button
        onclick="
    updateCalculation('3');
    "
        class="number-button">
        3
      </button>

      <button
        onclick="
    updateCalculation(' + ');
    ">
        +
      </button>

      <button
        onclick="
    updateCalculation(' - ');
    ">
        -
      </button>
    </p>
    <p>
      <button
        onclick="
    updateCalculation('4');
    "
        class="number-button">
        4
      </button>

      <button
        onclick="
    updateCalculation('5');
    "
        class="number-button">
        5
      </button>

      <button
        onclick="
    updateCalculation('6');
    "
        class="number-button">
        6
      </button>

      <button
        onclick="
    updateCalculation(' * ');
    ">
        x
      </button>

      <button
        onclick="
    updateCalculation(' / ');
    ">
        รท
      </button>
    </p>
    <p>
      <button
        onclick="
    updateCalculation('7');
    "
        class="number-button">
        7
      </button>

      <button
        onclick="
    updateCalculation('8');
    "
        class="number-button">
        8
      </button>

      <button
        onclick="
    updateCalculation('9');
    "
        class="number-button">
        9
      </button>

      <button
        onclick="
    calculation = eval(calculation);
    console.log(calculation);
    jsResultado.innerHTML = calculation
    ">
        =
      </button>

      <button
        onclick="
    calculation = ''
    jsResultado.innerHTML = ''
    localStorage.setItem('calculation', JSON.stringify(calculation));    
    console.log('Se han reiniciado los datos.')
    ">
        AC
      </button>
    </p>

    <p>
      <button
        class="number-button"
        id="zero-button"
        onclick="
      updateCalculation('0');  ">
        0
      </button>
    </p>

    <p class="resultado"></p>
    <script type="text/javascript">
      let jsResultado = document.querySelector('.resultado')
      let calculation = JSON.parse(localStorage.getItem('calculation')) || '';

      if (calculation) {
        console.log('Se han recuperado los datos.');
        console.log(calculation);
        jsResultado.innerHTML = calculation

      } else {
        console.log('No se han encontrado datos guardados.')
      }

      function updateCalculation(digit) {
        calculation += digit;
        console.log(calculation);

        jsResultado.innerHTML = calculation
        localStorage.setItem('calculation', JSON.stringify(calculation));
      }
    </script>
  </body>
</html>
